<!DOCTYPE html>
<html>
  <!-- ######################################################################### HTML HEAD ###################################################################-->
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="index.css" />
    <title>The Solamonsters Society</title>
    <link rel="icon" href="assets/solamonsters-logo.png" />
  </head>

  <!-- ########################################################################### HTML BODY ################################################################ -->
  <body>
    <!-------------------------------------------------------------------------------------------------------------------------------->
    <!--------------------------------------------- HEADER --------------------------------------------------------------------------->
    <!-------------------------------------------------------------------------------------------------------------------------------->
    <script src="js/header/header.js"></script>
    <!-------------------------------------------------------------------------------------------------------------------------------->
    <!--------------------------------------------- HEADER END  ---------------------------------------------------------------------->
    <!-------------------------------------------------------------------------------------------------------------------------------->
    <div class="rarityBackground">
      <div class="bufferSmall"></div>
      <div class="headerBuffer"></div>
      <!-- -------------rarity item charts------------- -->
      <div class="rarebody">
        <div class="rareContainer">
          <p class="bodyTitle">Mindfolk Attribute Rarities</p>

          <!------------------------------------------------------------------ buttons  -->
          <div class="openCloseContainer">
            <div style="display: flex; text-align: center">
              <div class="openButton" onclick="openAll()">Show All</div>
              <div class="closeButton" onclick="closeAll()">Close All</div>
              <script>
                function openAll() {
                  document.getElementById("1Attribute").classList.add("on1");
                  document
                    .getElementById("item1")
                    .classList.add("itemRareContainerAddHeight");
                  document.getElementById("2Attribute").classList.add("on2");
                  document
                    .getElementById("item2")
                    .classList.add("itemRareContainerAddHeight");
                  document.getElementById("3Attribute").classList.add("on3");
                  document
                    .getElementById("item3")
                    .classList.add("itemRareContainerAddHeight");
                  document.getElementById("4Attribute").classList.add("on4");
                  document
                    .getElementById("item4")
                    .classList.add("itemRareContainerAddHeight");
                  document.getElementById("5Attribute").classList.add("on5");
                  document
                    .getElementById("item5")
                    .classList.add("itemRareContainerAddHeight");
                }
                function closeAll() {
                  document.getElementById("1Attribute").classList.remove("on1");
                  document
                    .getElementById("item1")
                    .classList.remove("itemRareContainerAddHeight");
                  document.getElementById("2Attribute").classList.remove("on2");
                  document
                    .getElementById("item2")
                    .classList.remove("itemRareContainerAddHeight");
                  document.getElementById("3Attribute").classList.remove("on3");
                  document
                    .getElementById("item3")
                    .classList.remove("itemRareContainerAddHeight");
                  document.getElementById("4Attribute").classList.remove("on4");
                  document
                    .getElementById("item4")
                    .classList.remove("itemRareContainerAddHeight");
                  document.getElementById("5Attribute").classList.remove("on5");
                  document
                    .getElementById("item5")
                    .classList.remove("itemRareContainerAddHeight");
                }
              </script>
            </div>
          </div>
          <br />
          <!--xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx first row of tables -->
          <div class="itemRarity">
            <!------------------------------------------------------------------ background  -->
            <div class="itemRareContainer" id="item1">
              <div class="itemRareTitle" onclick="open1()">Background</div>
              <script>
                function open1() {
                  if (
                    document
                      .getElementById("1Attribute")
                      .classList.contains("on1")
                  ) {
                    document
                      .getElementById("1Attribute")
                      .classList.remove("on1");
                    document
                      .getElementById("item1")
                      .classList.remove("itemRareContainerAddHeight");
                  } else {
                    document.getElementById("1Attribute").classList.add("on1");
                    document
                      .getElementById("item1")
                      .classList.add("itemRareContainerAddHeight");
                  }
                }
              </script>
              <div class="att1" id="1Attribute">
                <rareTableRow>
                  <rareTableTitle>Item</rareTableTitle>
                  <rareTableTitle>#/777</rareTableTitle>
                  <rareTableTitle>Rarity</rareTableTitle>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Olive</rareTableItem>
                  <rareTableItem>137</rareTableItem>
                  <rareTableItem>17.63%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Cashmere</rareTableItem>
                  <rareTableItem>144</rareTableItem>
                  <rareTableItem>18.53%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Chalky</rareTableItem>
                  <rareTableItem>159</rareTableItem>
                  <rareTableItem>20.46%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Carrot Orange</rareTableItem>
                  <rareTableItem>163</rareTableItem>
                  <rareTableItem>20.98%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Smalt Blue</rareTableItem>
                  <rareTableItem>167</rareTableItem>
                  <rareTableItem>21.49%</rareTableItem>
                </rareTableRow>
              </div>
            </div>
            <!------------------------------------------------------------------ fur/skin  -->
            <div class="itemRareContainer" id="item2">
              <!-- title -->
              <div class="itemRareTitle" onclick="open2()">Body</div>
              <script>
                function open2() {
                  if (
                    document
                      .getElementById("2Attribute")
                      .classList.contains("on2")
                  ) {
                    document
                      .getElementById("2Attribute")
                      .classList.remove("on2");
                    document
                      .getElementById("item2")
                      .classList.remove("itemRareContainerAddHeight");
                  } else {
                    document.getElementById("2Attribute").classList.add("on2");
                    document
                      .getElementById("item2")
                      .classList.add("itemRareContainerAddHeight");
                  }
                }
              </script>
              <!-- table -->
              <div class="att2" id="2Attribute">
                <rareTableRow>
                  <rareTableTitle>Item</rareTableTitle>
                  <rareTableTitle>#/777</rareTableTitle>
                  <rareTableTitle>Rarity</rareTableTitle>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Setting Sun</rareTableItem>
                  <rareTableItem>94 </rareTableItem>
                  <rareTableItem>12.10%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Mirage</rareTableItem>
                  <rareTableItem>106</rareTableItem>
                  <rareTableItem>13.64%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Garden Gear</rareTableItem>
                  <rareTableItem>125 </rareTableItem>
                  <rareTableItem>16.09%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Salty Dungarees</rareTableItem>
                  <rareTableItem>139</rareTableItem>
                  <rareTableItem>17.89%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Book Club</rareTableItem>
                  <rareTableItem>147</rareTableItem>
                  <rareTableItem>18.92%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Harbour Coat</rareTableItem>
                  <rareTableItem>159</rareTableItem>
                  <rareTableItem>20.46%</rareTableItem>
                </rareTableRow>
              </div>
            </div>
            <!------------------------------------------------------------------ head  -->
            <div class="itemRareContainer" id="item3">
              <div class="itemRareTitle" onclick="open3()">Face</div>
              <script>
                function open3() {
                  if (
                    document
                      .getElementById("3Attribute")
                      .classList.contains("on3")
                  ) {
                    document
                      .getElementById("3Attribute")
                      .classList.remove("on3");
                    document
                      .getElementById("item3")
                      .classList.remove("itemRareContainerAddHeight");
                  } else {
                    document.getElementById("3Attribute").classList.add("on3");
                    document
                      .getElementById("item3")
                      .classList.add("itemRareContainerAddHeight");
                  }
                }
              </script>
              <div class="att3" id="3Attribute">
                <rareTableRow>
                  <rareTableTitle>Item</rareTableTitle>
                  <rareTableTitle>#/777</rareTableTitle>
                  <rareTableTitle>Rarity</rareTableTitle>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Rooi</rareTableItem>
                  <rareTableItem>89</rareTableItem>
                  <rareTableItem>11.45%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Ringo</rareTableItem>
                  <rareTableItem>116</rareTableItem>
                  <rareTableItem>14.93%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Pico</rareTableItem>
                  <rareTableItem>128</rareTableItem>
                  <rareTableItem>16.47%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Tank</rareTableItem>
                  <rareTableItem>138</rareTableItem>
                  <rareTableItem>17.76%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Cob</rareTableItem>
                  <rareTableItem>140</rareTableItem>
                  <rareTableItem>18.02%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Ryan</rareTableItem>
                  <rareTableItem>159</rareTableItem>
                  <rareTableItem>20.46%</rareTableItem>
                </rareTableRow>
              </div>
            </div>
          </div>
          <!--xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx second row of tables -->
          <div class="itemRarity">
            <!------------------------------------------------------------------ mouth  -->
            <div class="itemRareContainer" id="item4">
              <div class="itemRareTitle" onclick="open4()">Hat</div>
              <script>
                function open4() {
                  if (
                    document
                      .getElementById("4Attribute")
                      .classList.contains("on4")
                  ) {
                    document
                      .getElementById("4Attribute")
                      .classList.remove("on4");
                    document
                      .getElementById("item4")
                      .classList.remove("itemRareContainerAddHeight");
                  } else {
                    document.getElementById("4Attribute").classList.add("on4");
                    document
                      .getElementById("item4")
                      .classList.add("itemRareContainerAddHeight");
                  }
                }
              </script>
              <div class="att4" id="4Attribute">
                <rareTableRow>
                  <rareTableTitle>Item</rareTableTitle>
                  <rareTableTitle>#/777</rareTableTitle>
                  <rareTableTitle>Rarity</rareTableTitle>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Space Out</rareTableItem>
                  <rareTableItem>23</rareTableItem>
                  <rareTableItem>2.96%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Ocean Aroma</rareTableItem>
                  <rareTableItem>39 </rareTableItem>
                  <rareTableItem>5.02%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Alchemist</rareTableItem>
                  <rareTableItem>58</rareTableItem>
                  <rareTableItem>7.46%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>So Where To</rareTableItem>
                  <rareTableItem>62 </rareTableItem>
                  <rareTableItem>7.98%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Rock Pool</rareTableItem>
                  <rareTableItem>74</rareTableItem>
                  <rareTableItem>9.52%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Productive Thoughts</rareTableItem>
                  <rareTableItem>88</rareTableItem>
                  <rareTableItem>11.33%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Saint Town</rareTableItem>
                  <rareTableItem>100 </rareTableItem>
                  <rareTableItem>12.87%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Owl Hill</rareTableItem>
                  <rareTableItem>103</rareTableItem>
                  <rareTableItem>13.26%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Camp Out</rareTableItem>
                  <rareTableItem>107</rareTableItem>
                  <rareTableItem>13.77%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Cloud Fishing</rareTableItem>
                  <rareTableItem>116 </rareTableItem>
                  <rareTableItem>14.93%</rareTableItem>
                </rareTableRow>
              </div>
            </div>
            <!------------------------------------------------------------------ teeth  -->
            <div class="itemRareContainer" id="item5">
              <div class="itemRareTitle" onclick="open5()">Pipe</div>
              <script>
                function open5() {
                  if (
                    document
                      .getElementById("5Attribute")
                      .classList.contains("on5")
                  ) {
                    document
                      .getElementById("5Attribute")
                      .classList.remove("on5");
                    document
                      .getElementById("item5")
                      .classList.remove("itemRareContainerAddHeight");
                  } else {
                    document.getElementById("5Attribute").classList.add("on5");
                    document
                      .getElementById("item5")
                      .classList.add("itemRareContainerAddHeight");
                  }
                }
              </script>
              <div class="att5" id="5Attribute">
                <rareTableRow>
                  <rareTableTitle>Item</rareTableTitle>
                  <rareTableTitle>#/777</rareTableTitle>
                  <rareTableTitle>Rarity</rareTableTitle>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Calabash</rareTableItem>
                  <rareTableItem>86</rareTableItem>
                  <rareTableItem>11.07%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Duke</rareTableItem>
                  <rareTableItem>119</rareTableItem>
                  <rareTableItem>15.32%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Author</rareTableItem>
                  <rareTableItem>169</rareTableItem>
                  <rareTableItem>21.75%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Reading</rareTableItem>
                  <rareTableItem>180</rareTableItem>
                  <rareTableItem>23.17%</rareTableItem>
                </rareTableRow>
                <rareTableRow>
                  <rareTableItem>Poker</rareTableItem>
                  <rareTableItem>216</rareTableItem>
                  <rareTableItem>27.80%</rareTableItem>
                </rareTableRow>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="headerBuffer"></div>
      <!------------------------------------------------------------------------------------------- rarity ranking search -->
      <div class="rarebody">
        <div class="rareContainer">
          <p class="bodyTitle">Mindfolk Rarity Ranking</p>

          <div style="display: flex; justify-content: space-between">
            <button
              id="invisibleButton"
              class="dt-button-listing"
              style="visibility: hidden"
            >
              SHOW LISTED
            </button>
            <p
              style="
                text-align: left;
                width: fit-content;
                padding: 0 1%;
                margin: 0;
              "
            >
              Export Data:
            </p>
            <div style="width: fit-content; padding-right: 1%; right: 0">
              <button
                id="toggleDisplayListings"
                onclick="toggleListed()"
                class="dt-button-listing"
              >
                SHOW LISTED
              </button>
              <script>
                function checkSearchChange() {
                  if (
                    document.getElementById("searchInput").value.includes("◎")
                  ) {
                    document.getElementById("searchInput").value = "";
                  }
                }
                var listed = false;
                function toggleListed() {
                  if (listed) {
                    listed = false;
                    document.getElementById("toggleDisplayListings").innerHTML =
                      "SHOW LISTED";
                    document.getElementById(
                      "toggleDisplayListings"
                    ).style.background = "#20eaac";
                    document.getElementById("invisibleButton").innerHTML =
                      "SHOW LISTED";
                    getAll();
                  } else {
                    listed = true;
                    document.getElementById("toggleDisplayListings").innerHTML =
                      "SHOW ALL";
                    document.getElementById(
                      "toggleDisplayListings"
                    ).style.background = "#21dbfb";
                    document.getElementById("invisibleButton").innerHTML =
                      "SHOW ALL";
                    getListed();
                  }
                }
                function getListed() {
                  var dataTable = $("#table").DataTable();
                  if (
                    !document.getElementById("searchInput").value.includes("◎")
                  ) {
                    dataTable
                      .search(
                        "◎ " + document.getElementById("searchInput").value
                      )
                      .draw();
                  }
                }
                function getAll() {
                  var dataTable = $("#table").DataTable();

                  dataTable
                    .search(document.getElementById("searchInput").value)
                    .draw();
                }
              </script>
            </div>
          </div>

          <table id="table" class="display" style="width: 100%; overflow: auto">
            <thead>
              <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Background</th>
                <th>Body</th>
                <th>Face</th>
                <th>Hat</th>
                <th>Pipe</th>
                <th>View on ME</th>
              </tr>
            </thead>
            <tbody></tbody>
            <tfoot>
              <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Background</th>
                <th>Body</th>
                <th>Face</th>
                <th>Hat</th>
                <th>Pipe</th>
                <th>View on ME</th>
              </tr>
            </tfoot>
          </table>
          <script src="js/rarity-mindfolk/table.js"></script>
          <script src="js/rarity-mindfolk/data.js"></script>

          <script defer>
            fetchData();
            async function fetchData() {
              let offset = 0;
              const listingsMap = new Map();

              let loop = true;

              while (loop) {
                let todos = [];

                await fetch(
                  "https://evening-anchorage-09555.herokuapp.com/api-mainnet.magiceden.dev/v2/collections/mindfolk/listings?offset=" +
                    offset +
                    "&limit=20"
                )
                  .then((response) => response.json())
                  .then((json) => (todos = json))
                  .then(() => {
                    for (let item of todos) {
                      listingsMap.set(item.tokenMint, item.price);
                    }

                    if (todos.length != 20) {
                      loop = false;
                    } else {
                      offset += 20;
                    }
                  });
              }

              var table = $("#table").DataTable({ retrieve: true });

              table.rows().every(function (rowIdx, tableLoop, rowLoop) {
                var data = this.data();
                var currID = data[7].substring(7).split("'")[0];

                if (listingsMap.has(currID)) {
                  data[7] =
                    "<a href='https://magiceden.io/item-details/" +
                    currID +
                    "' target='_blank' class='linkME'>◎" +
                    listingsMap.get(currID) +
                    "</a>";
                }
                this.data(data);
              });
            }
          </script>
        </div>
      </div>
      <div class="headerBuffer"></div>
    </div>

    <!-------------------------------------------------------------------------------------------------------------------------------->
    <!--------------------------------------------- FOOTER      ---------------------------------------------------------------------->
    <!-------------------------------------------------------------------------------------------------------------------------------->
    <script src="js/footer/footer.js"></script>
    <!-------------------------------------------------------------------------------------------------------------------------------->
    <!--------------------------------------------- FOOTER END  ---------------------------------------------------------------------->
    <!-------------------------------------------------------------------------------------------------------------------------------->
  </body>
</html>
